Na straně backendu jsem se rozhodl použít Node.js společně s frameworkem Express. Express umožňuje jednoduché definování endpointů a poskytuje metody pro základní implementaci REST API. S využitím Expressu mohu definovat jeden hlavní POST endpoint. Tento jediný endpoint obsluhuje celý proces generování PDF souboru s životopisem a ukládání přijatých dat do databáze za účelem případného budoucího zpracovávání těchto dat. Backend tedy neobsahuje žádnou správu uživatelů.

Když uživatel odešle formulář s daty, kterými jsou například osobní údaje, pracovní zkušenosti, dovednosti atd., Express zpracuje JSON data z požadavku pomocí metody express.json() a předá tyto data metodě, která následně generuje PDF a ukládá do databáze. Zvolil jsem ukládání těchto záznamů do databáze MongoDB, a to kvůli její flexibilitě a jednoduchosti. Komunikaci s MongoDB řeším knihovnou Mongoose. Mongoose mi umožňuje definovat schéma pro ukládaná data, čímž zajišťuje konzistentní strukturu. Když dorazí nová data, Mongoose poskytuje jednoduché metody jako například .save() pro zapsání těchto dat do MongoDB..

Nejprve se tedy přijatá data uloží do databáze. Následně se zahájí proces generování PDF. K tomu využívím knihovnu Puppeteer, která dokáže na serveru spustit prohlížeč Chrome a využít jeho možnosti generování PDF z HTML dokumentu. Puppeteer načte předem připravenou HTML šablonu a nahradí jednotlivé placeholdery (např. {{firstName}} či {{skills}}) skutečnými údaji, které uživatel právě odeslal. Tento přístup mi umožňuje oddělit HTML logiku od hlavního aplikačního kódu, což usnadňuje případné rozšiřování či úpravy. Jakmile jsou placeholdery nahrazeny, Puppeteer vyrenderuje šablonu, jako by to udělal samotný prohlížeč Chrome, a následně jej převede do PDF souboru. Výsledkem je tedy jeden PDF soubor s vyplněnými daty od uživatele.

Všechny tyto kroky se odehrají v rámci jednoho požadavku: backend přijme uživatelská data, uloží je do databáze, spustí Puppeteer pro vygenerování PDF a obratem vrátí tento soubor klientovi. Neexistuje žádná mezifáze, žádný ukládaný stav o uživatelských relacích, ani potřeba dalších koncových bodů pro dodatečné získávání nebo úpravu dat. Tento bezstavový přístup zjednodušuje architekturu a snižuje vývojové náklady. Není třeba spravovat přihlašování nebo relace a k ukládání dat i odeslání PDF stačí jediný endpoint.

Volba konkrétních knihoven a nástrojů byla vedena snadností vývoje a spolehlivostí jejich funkčnosti. Node.js a Express se v JavaScriptovém ekosystému všeobecně považují za standard pro tvorbu serverových aplikací, zatímco Mongoose výrazně zjednodušuje databázové operace a validaci schémat v MongoDB. Puppeteer vyniká při vykreslování složitých HTML/CSS a tvorbě PDF, což z něj dělá ideální nástroj pro generování životopisů. Spojením všech těchto prvků jsem vytvořil backend, který je jednoduchý a zároveň efektivní: uživatel odešle jeden požadavek s veškerými údaji a server mu během pár sekund odpoví profesionálně naformátovaným PDF životopisem.
